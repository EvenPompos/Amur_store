<Page x:Class="Amur_store.Views.CatalogPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Каталог товаров"
      Loaded="Page_Loaded">
    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0.1,0" EndPoint="0.9,1">
                <GradientStop Color="#FF0A2463" Offset="0" />
                <GradientStop Color="#FF1E3A8A" Offset="1" />
            </LinearGradientBrush>
        </Grid.Background>

        <Border Height="150" VerticalAlignment="Top" CornerRadius="0 0 120 0" Background="#100E17" Opacity="0.9"/>

        <StackPanel Margin="40,40,40,0" VerticalAlignment="Top">
            <TextBlock Text="Каталог товаров" FontSize="36" Foreground="White" FontWeight="Bold"/>
            <TextBlock x:Name="CatalogInfoText" Text="Найдено товаров: 0" FontSize="16" 
                       Foreground="#A0B3E0" Margin="0,5,0,0"/>
        </StackPanel>

        <Border Background="#1A2030" CornerRadius="12" Margin="40,130,40,40" BorderBrush="#2A3348" BorderThickness="1">
            <Grid>
                <!-- Простой список товаров -->
                <DataGrid x:Name="ProductsDataGrid" Margin="20,20,20,20"
                          AutoGenerateColumns="False" CanUserAddRows="False"
                          Background="Transparent" BorderBrush="#2A3348"
                          RowBackground="#1A2030" AlternatingRowBackground="#151A28"
                          Foreground="White" IsReadOnly="True"
                          SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Товар" Binding="{Binding ProductName}" Width="300"/>
                        <DataGridTextColumn Header="Категория" Binding="{Binding CategoryName}" Width="150"/>
                        <DataGridTextColumn Header="Производитель" Binding="{Binding ManufacturerName}" Width="150"/>
                        <DataGridTextColumn Header="Цена" 
                                            Binding="{Binding Price, StringFormat={}{0:N0} руб.}" 
                                            Width="100"/>
                        <DataGridTemplateColumn Header="Действия" Width="100">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="В корзину" Tag="{Binding ProductID}" 
                                            Click="AddToCart_Click"
                                            Background="#3B82F6" Foreground="White" 
                                            Width="80" Height="25"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>
    </Grid>
</Page>